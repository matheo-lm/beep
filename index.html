<!DOCTYPE html>
<html>
<head>
  <title>Consolidated Cyber News RSS Feed</title>
</head>
<body>
  <h1>Latest Cyber News</h1>
  <ul id="feed-list"></ul>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/rss-parser/3.12.0/rss-parser.min.js"></script>
  <script>
    (async () => {
      const feedUrls = [
        '/beep/feeds/bleepingcomputer_feed.json',
        '/beep/feeds/thehackersnews_feed.json'
      ];
      let feedItems = [];
  
      for (const url of feedUrls) {
        try {
          const response = await fetch(url);
          const feed = await response.json();
          feedItems = feedItems.concat(feed.items);
        } catch (error) {
          console.error(`Error fetching or parsing feed at ${url}:`, error);
        }
      }
  
      // Sort items by publication date
      feedItems.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
  
      // Display items
      const feedList = document.getElementById('feed-list');
      feedItems.forEach(item => {
        const listItem = document.createElement('li');
        listItem.innerHTML = `<a href="${item.link}">${item.title}</a> - ${new Date(item.pubDate).toLocaleString()}`;
        feedList.appendChild(listItem);
      });
    })();
  </script>
</body>
</html>
